import streamlit as st
import sqlite3
import pandas as pd
from datetime import date, timedelta

# Connessione al database SQLite
conn = sqlite3.connect('offerte.db')

# Impostazioni delle pagina
st.set_page_config(
    page_title="App Rosso - PROVA", 
    page_icon="‚ùì", 
    layout="wide",)

def load_az():
    query = "SELECT Id_az, Nome FROM aziende"
    df = pd.read_sql_query(query, conn)
    return df['Nome'].tolist(), df['Id_az'].tolist()


def main():
    aziende, id_az = load_az()
    selezione = st.multiselect("Seleziona il cliente", aziende, key="Sel_cli",)
    stringa = ", ".join(selezione)
    st.write(stringa) 
    lista=stringa.split(", ")
    st.write(lista)
    st.multiselect("Vecchia selezione", aziende, default=lista)



if __name__ == '__main__':
    main()

